% Author: Alfredo SÃ¡nchez Alberca (asalber@ceu.es)

\pgfplotsset{
    standard/.style={
        axis x line=middle,
        axis y line=middle,
        % enlarge x limits=0.15,
        % enlarge y limits=0.15,
        every axis x label/.style={at={(current axis.right of origin)},anchor=north west},
        every axis y label/.style={at={(current axis.above origin)},anchor=north east}
    }
}

\begin{tikzpicture}
\begin{axis}[standard,xlabel={$X$}, ylabel={$F$}, axis equal, xmin=-0.1, xmax=7, ymin=0,
ymax=5, xtick={1,6}, xticklabels={$l_{i-1}$,$l_i$}, ytick={1,4}, yticklabels={$F_{i-1}$,$F_i$}]

\coordinate (A) at (axis cs:6,1);
\coordinate (B) at (axis cs:1,1);
\coordinate (C) at (axis cs:6,4);
\coordinate (D) at (axis cs:4,1);
\coordinate (E) at (axis cs:4,2.8);
\coordinate (F) at (axis cs:-0.1,2.8);
\coordinate (G) at (axis cs:4,-0.1);
\end{axis}

\draw (B) -- (C);

\pause

\draw[fill=color1!20] (A) -- (B) -- (C) -- cycle;
\draw<4->[fill=color2!20] (D) -- (B) -- (E) -- cycle;

\tkzMarkAngle[fill= green!50,size=1cm](A,B,C)
\tkzLabelAngle[pos = 0.7](A,B,C){$\alpha$}
\node[anchor=west] at (7,3) {$\color{color1} \displaystyle \tan(\alpha) = \frac{F_i-F_{i-1}}{l_i-l_{i-1}}$};

\pause

\node[anchor=east] at (F) {$0.5$};
\draw[dashed] (F) -- (E) -- (G);
\node[anchor=north] at (G) {\color{color2}$Me$};

\pause 

\node[anchor=west] at (7,2) {$\color{color2} \displaystyle \tan(\alpha) = \frac{0.5-F_{i-1}}{Me-l_{i-1}}$};


\end{tikzpicture}